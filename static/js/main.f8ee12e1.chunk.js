(this["webpackJsonpthree-me"]=this["webpackJsonpthree-me"]||[]).push([[0],{10:function(e,n,t){e.exports=t(18)},15:function(e,n,t){},17:function(e,n,t){},18:function(e,n,t){"use strict";t.r(n);var o,i=t(1),a=t.n(i),r=t(4),s=t.n(r),c=(t(15),t(2)),d=t.n(c),w=t(5),u=t(0),l=t(6),m=t(7),h=t(9),p=16777207,v=1002625,f=3101,z=0,g=t(8),b=(t(17),function(e){var n=new u.jb;return n.background=new u.i(e),n}(f));b.fog=new u.o(f,1,800);var x,j,y=(x=window.innerWidth,j=window.innerHeight,new u.Y(75,x/j,.1,1e3));y.position.z=100,y.position.y=0;var A=function(e,n){var t=new u.yb({antialias:!0});return t.setSize(e,n),t.setPixelRatio(window.devicePixelRatio),t}(window.innerWidth,window.innerHeight);A.shadowMap.enabled=!0,A.shadowMap.type=u.X;var E=new u.a(p,.5);E.position.set(0,50,0);var S=new u.r(p,z,.95);S.position.set(0,100,100);var k=new u.j(p,.5);k.castShadow=!0,k.position.set(-100,100,-100),k.shadow.mapSize.set(512,512),k.shadow.camera.near=.5,k.shadow.camera.far=500,b.add(E,S,k);var P,M=new g.a(y,A.domElement);M.enablePan=!1,M.maxDistance=150,M.minDistance=50,M.rotateSpeed=.6,M.zoomSpeed=.8,M.maxPolarAngle=Math.PI/1.5,M.minAzimuthAngle=-Math.PI/2,M.maxAzimuthAngle=Math.PI/2,Object(w.a)(d.a.mark((function e(){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(new l.a).loadAsync((t="me.glb","".concat("","/").concat(t)));case 2:n=e.sent,(P=n.scene).scale.set(100,100,100),P.position.set(0,-60,0),P.name="Hao",P.traverse((function(e){e.isObject3D&&(e.castShadow=!0)})),b.add(P),y.lookAt(P.position),M.update();case 12:case"end":return e.stop()}var t}),e)})))();for(var O=function(e,n,t,o){return(new m.a).noise4d(e,n,t,o)},I=new u.N({color:v,flatShading:!0,side:u.l}),W=new u.Z(4e3/1.5,4e3,50,50),H=0;H<W.vertices.length;H++){var D=W.vertices[H];D.z=60*O(.01*D.x,.01*D.y,.01*D.z,0),D.z+=10*O(.03*D.x,.03*D.y,.03*D.z,0),D.z+=O(.1*D.x,.125*D.y,.125*D.z,0)}W.verticesNeedUpdate=!0;var F=(new u.g).fromGeometry(W),L=new u.L(F,I);L.name="Terrain",L.rotateX(-Math.PI/2),L.position.setZ(-1200),L.position.setY(-75),L.receiveShadow=!0;var N=L.clone();N.name="Terrain 2",N.position.setZ(-4400),N.position.setY(-76),b.add(L,N);var R=function(){var e=Object(i.useRef)(null),n=function(){var e="object"===typeof window,n=function(){return{width:e?window.innerWidth:100,height:e?window.innerHeight:100}},t=Object(i.useState)(n),o=Object(h.a)(t,2),a=o[0],r=o[1];return Object(i.useEffect)((function(){if(e){var t=function(){r(n())};return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}})),a}(),t=n.width,r=n.height,s=function e(){o=window.requestAnimationFrame(e),M.update(),L.position.z+=3,N.position.z+=3,L.position.z>2e3&&(console.log("terrain move back ".concat(-4400)),L.position.z=-4400),N.position.z>2e3&&(console.log("terrain2 move back ".concat(-4400)),N.position.z=-4400),A.render(b,y)};return Object(i.useEffect)((function(){!function(e,n){y.aspect=e/n,y.updateProjectionMatrix(),A.setSize(e,n)}(t,r),o||(o=requestAnimationFrame(s));var n=e.current;return null===n||void 0===n||n.appendChild(A.domElement),function(){o&&cancelAnimationFrame(o),o=null,null===n||void 0===n||n.removeChild(A.domElement)}}),[t,r]),a.a.createElement("div",{ref:e,className:"three-container"})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.f8ee12e1.chunk.js.map